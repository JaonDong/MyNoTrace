
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
<div id="test" ng-controller="app.test as vm">
    <button onclick=" Test(); ">测试</button>
    <div>
        <form>
            <div class="form-group">
                <label>Name</label>
            </div>
            <div class="form-group">
                <label>pictureUrl</label>
            </div>
            <div class="form-group">
                <label>Url</label>
            </div>
            <div class="form-group">
                <label>ParentId</label>
            </div>
        </form>
        <button class="btn btn-default" onclick="submitTest()">提交</button>
        <button class="btn btn-danger" onclick="menuList()">获取</button>
    </div>
</div>

@section scripts
{
    <script type="text/javascript">
        var Test = function() {
            $.ajax({
                url: "/api/services/app/menu/getMenus",
                type: "Post",
                success: function(data) {
                    alert(data.result.length);
                }
            });
        }
        var submitTest = function() {
            abp.services.app.menu.createMenu({ ParentId: "0", menuName: "Name", Url: "url", PictureUrl: "pictureUrl", Id: "1" }).done(function(data) {

            });
        }

        var menuList = function() {
            abp.services.app.menu.getMenus().done(function(data) {
                    for (var i in data) {
                     if (data.hasOwnProperty(i)) {
                        var item = data[i];
                        alert(item.menuName);
                    }
                }
            });
        }
    </script>
}
